(()=>{"use strict";var e,t,r,o={87:e=>{e.exports=window.wp.element},427:e=>{e.exports=window.wp.components},609:e=>{e.exports=window.React},715:e=>{e.exports=window.wp.blockEditor},723:e=>{e.exports=window.wp.i18n},790:e=>{e.exports=window.ReactJSXRuntime},795:e=>{e.exports=window.ReactDOM},964:(e,t,r)=>{const o=window.wp.blocks;var a=r(723),n=r(715),s=r(427),l=r(87),i=r(196);const c=class{constructor(){this.sound=null,this.isDestroyed=!1,void 0!==i.Howler&&(i.Howler.html5PoolSize=100,i.Howler.autoUnlock=!0)}isValidUrl(e){if(!e||"string"!=typeof e)return!1;try{const t=new URL(e,window.location.origin);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}load(e,t={}){return new Promise((r,o)=>{if(this.isDestroyed)o(new Error("Player has been destroyed"));else{if(!this.isValidUrl(e))return o(new Error("Invalid audio URL")),void console.error("Fluxwave: Invalid or unsafe URL provided:",e);if(this.sound){try{this.sound.stop(),this.sound.unload()}catch(a){console.warn("Error cleaning up previous sound:",a)}this.sound=null}try{this.sound=new i.Howl({src:[e],html5:!0,preload:!0,format:["mp3","aac","opus","webm","ogg","wav","flac"],pool:1,onload:()=>{this.isDestroyed||(t.onLoad&&t.onLoad(),r())},onloaderror:(e,r)=>{console.error("Howler load error:",r),t.onError&&t.onError(r),o(r)},onplay:()=>{!this.isDestroyed&&t.onPlay&&t.onPlay()},onpause:()=>{!this.isDestroyed&&t.onPause&&t.onPause()},onend:()=>{!this.isDestroyed&&t.onEnd&&t.onEnd()},onstop:()=>{!this.isDestroyed&&t.onStop&&t.onStop()},onseek:()=>{!this.isDestroyed&&t.onSeek&&t.onSeek()}})}catch(a){console.error("Error creating Howl:",a),o(a)}}})}play(){this.sound&&this.sound.play()}pause(){this.sound&&this.sound.pause()}stop(){this.sound&&this.sound.stop()}toggle(){this.sound&&(this.sound.playing()?this.pause():this.play())}seek(e){this.sound&&!isNaN(e)&&isFinite(e)&&this.sound.seek(Math.max(0,e))}getCurrentTime(){if(!this.sound)return 0;const e=this.sound.seek();return!isNaN(e)&&isFinite(e)?e:0}getDuration(){if(!this.sound)return 0;const e=this.sound.duration();return!isNaN(e)&&isFinite(e)?e:0}isPlaying(){return!!this.sound&&this.sound.playing()}setVolume(e){this.sound&&!isNaN(e)&&this.sound.volume(Math.max(0,Math.min(1,e)))}getVolume(){return this.sound?this.sound.volume():1}setRate(e){this.sound&&!isNaN(e)&&this.sound.rate(Math.max(.5,Math.min(2,e)))}getRate(){return this.sound?this.sound.rate():1}destroy(){if(this.isDestroyed=!0,this.sound){try{this.sound.playing()&&this.sound.stop(),this.sound.unload()}catch(e){console.warn("Error during sound cleanup:",e)}this.sound=null}}};var u=r(609);const d=e=>{let t;const r=new Set,o=(e,o)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=o?o:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,n={setState:o,getState:a,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(o,a,n);return n},h=e=>e;const x=e=>{const t=(e=>e?d(e):d)(e),r=e=>function(e,t=h){const r=u.useSyncExternalStore(e.subscribe,u.useCallback(()=>t(e.getState()),[e,t]),u.useCallback(()=>t(e.getInitialState()),[e,t]));return u.useDebugValue(r),r}(t,e);return Object.assign(r,t),r};var p;const m=(p=(e,t)=>({currentTrack:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,progress:0,volume:1,playbackRate:1,isMuted:!1,playlist:[],currentTrackIndex:0,originalPlaylist:[],shuffleMode:!1,repeatMode:"none",showWaveform:!0,showVisualizer:!1,setCurrentTrack:t=>e({currentTrack:t}),setIsPlaying:t=>e({isPlaying:t}),setIsLoading:t=>e({isLoading:t}),setCurrentTime:r=>{const{duration:o}=t();e({currentTime:r,progress:o>0?r/o:0})},setDuration:t=>e({duration:t}),setVolume:t=>e({volume:Math.max(0,Math.min(1,t))}),setPlaybackRate:t=>e({playbackRate:Math.max(.5,Math.min(2,t))}),toggleMute:()=>e(e=>({isMuted:!e.isMuted})),setPlaylist:t=>e({playlist:t,originalPlaylist:[...t]}),setCurrentTrackIndex:r=>{const{playlist:o}=t();r>=0&&r<o.length&&e({currentTrackIndex:r,currentTrack:o[r]})},toggleShuffle:()=>{const{shuffleMode:r,playlist:o,originalPlaylist:a,currentTrack:n}=t();if(r){const t=n?.id,r=a.findIndex(e=>e.id===t);e({shuffleMode:!1,playlist:[...a],currentTrackIndex:r>=0?r:0})}else{const t=[...o],r=t.findIndex(e=>e.id===n?.id);-1!==r&&t.splice(r,1);for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}n&&-1!==r&&t.unshift(n),e({shuffleMode:!0,playlist:t,currentTrackIndex:0})}},setRepeatMode:t=>e({repeatMode:t}),toggleRepeatMode:()=>{const{repeatMode:r}=t(),o=["none","all","one"],a=o.indexOf(r),n=o[(a+1)%o.length];e({repeatMode:n})},nextTrack:()=>{const{playlist:r,currentTrackIndex:o,repeatMode:a,shuffleMode:n}=t();if("one"===a)return!0;const s=o+1;return s<r.length?(e({currentTrackIndex:s,currentTrack:r[s]}),!0):"all"===a&&(e({currentTrackIndex:0,currentTrack:r[0]}),!0)},previousTrack:()=>{const{playlist:r,currentTrackIndex:o}=t(),a=o-1;return a>=0&&(e({currentTrackIndex:a,currentTrack:r[a]}),!0)},toggleWaveform:()=>e(e=>({showWaveform:!e.showWaveform})),toggleVisualizer:()=>e(e=>({showVisualizer:!e.showVisualizer})),reset:()=>e({currentTrack:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,progress:0})}))?x(p):x;var f=r(790);const g=(0,l.memo)(({isPlaying:e,onPlayPause:t,onPrevious:r,onNext:o,hasPrevious:n,hasNext:s,playbackRate:i=1,onPlaybackRateChange:c,onSkipForward:u,onSkipBackward:d,accentColor:h="#06b6d4"})=>{const[x,p]=(0,l.useState)(!1),m=[.5,.75,1,1.25,1.5,2];return(0,f.jsxs)("div",{className:"bg-slate-50 text-slate-500 rounded-b-xl flex items-center relative",role:"group","aria-label":"Player controls",children:[(0,f.jsxs)("div",{className:"flex-auto flex items-center justify-evenly",children:[(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("button",{type:"button","aria-label":(0,a.__)("Share","fluxwave"),className:"text-slate-500 transition-colors",onClick:async()=>{try{const e=window.location.href;await navigator.clipboard.writeText(e),p(!0),setTimeout(()=>{p(!1)},2e3)}catch(e){console.error("Failed to copy:",e);const r=document.createElement("textarea");r.value=window.location.href,r.style.position="fixed",r.style.left="-999999px",document.body.appendChild(r),r.select();try{document.execCommand("copy"),p(!0),setTimeout(()=>{p(!1)},2e3)}catch(t){console.error("Fallback copy failed:",t)}document.body.removeChild(r)}},onMouseEnter:e=>e.currentTarget.style.color=h,onMouseLeave:e=>e.currentTarget.style.color="",title:(0,a.__)("Share this page","fluxwave"),children:(0,f.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{cx:"18",cy:"5",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("circle",{cx:"6",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("circle",{cx:"18",cy:"19",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),x&&(0,f.jsxs)("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 px-3 py-1.5 rounded-md shadow-lg text-xs font-medium text-white whitespace-nowrap z-50",style:{backgroundColor:h},children:[(0,a.__)("Link copied!","fluxwave"),(0,f.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2",style:{backgroundColor:h}})]})]}),(0,f.jsx)("button",{type:"button",className:"hidden sm:block lg:hidden xl:block text-slate-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":(0,a.__)("Previous track","fluxwave"),onClick:r,disabled:!n,onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.color=h),onMouseLeave:e=>e.currentTarget.style.color="",children:(0,f.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,f.jsx)("path",{d:"m10 12 8-6v12l-8-6Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M6 6v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,f.jsx)("button",{type:"button","aria-label":(0,a.__)("Rewind 10 seconds","fluxwave"),className:"text-slate-500 transition-colors",onClick:d,onMouseEnter:e=>e.currentTarget.style.color=h,onMouseLeave:e=>e.currentTarget.style.color="",children:(0,f.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,f.jsx)("path",{d:"M6.492 16.95c2.861 2.733 7.5 2.733 10.362 0 2.861-2.734 2.861-7.166 0-9.9-2.862-2.733-7.501-2.733-10.362 0A7.096 7.096 0 0 0 5.5 8.226",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M5 5v3.111c0 .491.398.889.889.889H9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),(0,f.jsx)("button",{type:"button",className:"bg-white text-slate-900 flex-none -my-2 mx-auto w-20 h-20 rounded-full ring-1 ring-slate-900/5 shadow-md flex items-center justify-center hover:bg-slate-50 transition-colors","aria-label":e?(0,a.__)("Pause","fluxwave"):(0,a.__)("Play","fluxwave"),onClick:t,children:e?(0,f.jsxs)("svg",{width:"30",height:"32",fill:"currentColor",children:[(0,f.jsx)("rect",{x:"6",y:"4",width:"4",height:"24",rx:"2"}),(0,f.jsx)("rect",{x:"20",y:"4",width:"4",height:"24",rx:"2"})]}):(0,f.jsx)("svg",{width:"30",height:"32",fill:"currentColor",viewBox:"0 0 30 32",children:(0,f.jsx)("path",{d:"M8 4l20 12L8 28V4z"})})}),(0,f.jsxs)("div",{className:"flex-auto flex items-center justify-evenly",children:[(0,f.jsx)("button",{type:"button","aria-label":(0,a.__)("Skip 10 seconds","fluxwave"),className:"text-slate-500 transition-colors",onClick:u,onMouseEnter:e=>e.currentTarget.style.color=h,onMouseLeave:e=>e.currentTarget.style.color="",children:(0,f.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,f.jsx)("path",{d:"M17.509 16.95c-2.862 2.733-7.501 2.733-10.363 0-2.861-2.734-2.861-7.166 0-9.9 2.862-2.733 7.501-2.733 10.363 0 .38.365.711.759.991 1.176",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M19 5v3.111c0 .491-.398.889-.889.889H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,f.jsx)("button",{type:"button",className:"hidden sm:block lg:hidden xl:block text-slate-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":(0,a.__)("Next track","fluxwave"),onClick:o,disabled:!s,onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.color=h),onMouseLeave:e=>e.currentTarget.style.color="",children:(0,f.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,f.jsx)("path",{d:"M14 12 6 6v12l8-6Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M18 6v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,f.jsxs)("button",{type:"button",className:"rounded-lg text-xs leading-6 font-semibold px-2 ring-2 ring-inset ring-slate-500 text-slate-500 hover:bg-slate-100 transition-colors",onClick:()=>{const e=(m.indexOf(i)+1)%m.length;c(m[e])},"aria-label":(0,a.__)("Playback speed","fluxwave"),children:[i,"x"]})]})]})});g.displayName="TransportControls";const v=g,y=(0,l.memo)(({currentTime:e=0,duration:t=0,onSeek:r,accentColor:o="#06b6d4"})=>{const[a,n]=(0,l.useState)(!1),[s,i]=(0,l.useState)(0),c=(0,l.useRef)(null),u=e=>{if(!isFinite(e)||isNaN(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},d=()=>{a&&(n(!1),r&&r(s))},h=e=>{if(!c.current||!t)return;const o=c.current.getBoundingClientRect(),n=Math.max(0,Math.min(e.clientX-o.left,o.width))/o.width*t;i(n),!a&&r&&r(n)},x=a?s:e,p=t>0?x/t*100:0;return(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{ref:c,className:"bg-slate-100 rounded-full overflow-hidden cursor-pointer",role:"slider","aria-label":"Seek position","aria-valuemin":"0","aria-valuemax":Math.round(t),"aria-valuenow":Math.round(x),"aria-valuetext":`${u(x)} of ${u(t)}`,tabIndex:"0",onMouseDown:e=>{n(!0),h(e)},onMouseMove:e=>{a&&h(e)},onMouseUp:d,onMouseLeave:d,onKeyDown:r=>{"ArrowLeft"===r.key?(r.preventDefault(),h(Math.max(0,e-5))):"ArrowRight"===r.key?(r.preventDefault(),h(Math.min(t,e+5))):"Home"===r.key?(r.preventDefault(),h(0)):"End"===r.key&&(r.preventDefault(),h(t))},children:(0,f.jsx)("div",{className:"h-2",role:"progressbar","aria-label":"music progress","aria-valuenow":Math.round(x),"aria-valuemin":"0","aria-valuemax":Math.round(t),style:{width:`${Math.min(100,Math.max(0,p))}%`,backgroundColor:o}})}),(0,f.jsx)("div",{className:"ring-2 absolute top-1/2 w-4 h-4 -mt-2 -ml-2 flex items-center justify-center bg-white rounded-full shadow cursor-pointer",style:{left:`${Math.min(100,Math.max(0,p))}%`,borderColor:o},children:(0,f.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ring-1 ring-inset ring-slate-900/5",style:{backgroundColor:o}})})]}),(0,f.jsxs)("div",{className:"flex justify-between text-sm leading-6 font-medium tabular-nums",children:[(0,f.jsx)("div",{style:{color:o},children:u(x)}),(0,f.jsx)("div",{className:"text-slate-500",children:u(t)})]})]})});y.displayName="ProgressBar";const w=y,k=(0,l.memo)(({track:e,currentTrackIndex:t,totalTracks:r,accentColor:o="#06b6d4"})=>e?(0,f.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,f.jsx)("img",{src:e.artwork||'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="88" height="88" fill="none"%3E%3Crect width="88" height="88" fill="%23e2e8f0" rx="8"/%3E%3Cpath fill="%2394a3b8" d="M44 28c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm0 4a6 6 0 100 12 6 6 0 000-12z"/%3E%3C/svg%3E',alt:e.title||(0,a.__)("Album artwork","fluxwave"),width:"88",height:"88",className:"flex-none rounded-lg bg-slate-100",loading:"lazy"}),(0,f.jsxs)("div",{className:"min-w-0 flex-auto space-y-1 font-semibold",children:[(0,f.jsxs)("p",{className:"text-sm leading-6",style:{color:o},children:[(0,f.jsx)("abbr",{title:"Track",children:"Track:"})," ",String((t||0)+1).padStart(2,"0")]}),(0,f.jsx)("h2",{className:"text-slate-500 text-sm leading-6 truncate",children:e.artist?e.artist:e.album?`Album: ${e.album}`:(0,a.__)("Unknown Artist","fluxwave")}),(0,f.jsx)("p",{className:"text-slate-900 text-lg",children:e.title||(0,a.__)("Untitled Track","fluxwave")})]})]}):(0,f.jsx)("div",{className:"text-center py-8",children:(0,f.jsx)("p",{className:"text-gray-500 text-sm",children:(0,a.__)("No track selected","fluxwave")})}));k.displayName="TrackInfo";const b=k,j=({tracks:e=[],autoplay:t=!1,loop:r=!1,accentColor:o="#06b6d4"})=>{const[n,s]=(0,l.useState)(null),i=(0,l.useRef)(null),u=(0,l.useRef)(null),d=(0,l.useRef)(0),h=m(e=>e.currentTrack),x=m(e=>e.currentTrackIndex),p=m(e=>e.isPlaying),g=m(e=>e.isLoading),y=m(e=>e.currentTime),k=m(e=>e.duration),j=m(e=>e.volume),C=m(e=>e.playbackRate),_=m(e=>e.repeatMode),N=m(e=>e.setCurrentTrack),T=m(e=>e.setCurrentTrackIndex),M=m(e=>e.setIsPlaying),P=m(e=>e.setIsLoading),L=m(e=>e.setCurrentTime),S=m(e=>e.setDuration),E=m(e=>e.setPlaylist),R=m(e=>e.nextTrack),I=m(e=>e.previousTrack);(0,l.useEffect)(()=>{i.current=new c;const e=e=>{if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName)switch(e.key){case" ":e.preventDefault(),F();break;case"ArrowLeft":e.shiftKey&&(e.preventDefault(),H());break;case"ArrowRight":e.shiftKey&&(e.preventDefault(),$())}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e),u.current&&(cancelAnimationFrame(u.current),u.current=null),i.current&&(i.current.destroy(),i.current=null)}},[]),(0,l.useEffect)(()=>{e.length>0&&(E(e),h||T(0))},[e]),(0,l.useEffect)(()=>{const e=m.getState().playlist;e[x]&&A(e[x])},[x]),(0,l.useEffect)(()=>{p&&D()},[p]),(0,l.useEffect)(()=>{i.current&&C&&i.current.setRate(C)},[C]);const A=async e=>{if(e&&e.url){s(null),P(!0),N(e);try{await i.current.load(e.url,{onLoad:()=>{const e=i.current.getDuration();e&&!isNaN(e)&&isFinite(e)?S(e):S(0),P(!1),s(null),C&&i.current.setRate(C),(t||p)&&O()},onEnd:()=>{K()},onError:e=>{console.error("Error loading track:",e),P(!1),S(0),s((0,a.__)("Failed to load audio file","fluxwave"))}}),void 0!==j&&i.current.setVolume(j)}catch(n){console.error("Error loading track:",n),P(!1),S(0),s((0,a.__)("Failed to load audio file","fluxwave"))}}},D=(0,l.useCallback)(()=>{if(i.current&&p){const e=performance.now();if(e-d.current>=100){const t=i.current.getCurrentTime();!isNaN(t)&&isFinite(t)&&L(t),d.current=e}u.current=requestAnimationFrame(D)}},[p,L]),O=(0,l.useCallback)(()=>{i.current&&(i.current.play(),M(!0))},[M]),B=(0,l.useCallback)(()=>{i.current&&(i.current.pause(),M(!1))},[M]),F=(0,l.useCallback)(()=>{p?B():O()},[p,O,B]),W=(0,l.useCallback)(e=>{!isNaN(e)&&isFinite(e)&&i.current&&(i.current.seek(e),L(e))},[L]),z=(0,l.useCallback)(()=>{const e=Math.min(y+10,k);W(e)},[y,k,W]),U=(0,l.useCallback)(()=>{const e=Math.max(y-10,0);W(e)},[y,W]),V=((0,l.useCallback)(e=>{i.current&&i.current.setVolume(e)},[]),(0,l.useCallback)(e=>{i.current&&i.current.setRate(e)},[])),$=(0,l.useCallback)(()=>{R()&&"one"===_&&(W(0),p&&O())},[R,_,W,p,O]),H=(0,l.useCallback)(()=>{(isNaN(y)?0:y)>3?W(0):I()},[y,W,I]),K=(0,l.useCallback)(()=>{if("one"===_)W(0),O();else{R()||M(!1)}},[_,W,O,R,M]);if(0===e.length)return(0,f.jsx)("div",{className:"fluxwave-audio-player p-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,f.jsxs)("div",{className:"text-center text-gray-500",children:[(0,f.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,f.jsx)("p",{className:"font-medium",children:(0,a.__)("No tracks added","fluxwave")}),(0,f.jsx)("p",{className:"text-sm mt-1",children:(0,a.__)("Add audio files to start building your playlist","fluxwave")})]})});const X=m.getState().playlist,q=isNaN(y)?0:y,G=x<X.length-1||"none"!==_,J=x>0||q>3;return(0,f.jsxs)("div",{className:"fluxwave-audio-player w-full",style:{"--accent-color":o},role:"region","aria-label":h?.title?`Audio player - ${h.title}`:"Audio player","aria-live":"polite","aria-atomic":"false",children:[(0,f.jsxs)("div",{className:"bg-white border-slate-100 border-b rounded-t-xl p-4 pb-6 sm:p-10 sm:pb-8 lg:p-6 xl:p-10 xl:pb-8 space-y-6 sm:space-y-8 lg:space-y-6 xl:space-y-8 items-center",children:[(0,f.jsx)(b,{track:h,currentTrackIndex:x,totalTracks:e.length,accentColor:o}),(0,f.jsxs)("div",{className:"sr-only",role:"status","aria-live":"polite",children:[p?(0,a.__)("Playing","fluxwave"):(0,a.__)("Paused","fluxwave"),h?.title&&`: ${h.title}`]}),(0,f.jsx)(w,{currentTime:y,duration:k,onSeek:W,accentColor:o})]}),(0,f.jsx)(v,{isPlaying:p,onPlayPause:F,onNext:$,onPrevious:H,hasPrevious:J,hasNext:G,playbackRate:C,onPlaybackRateChange:V,onSkipForward:z,onSkipBackward:U,accentColor:o}),g&&(0,f.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-xl",role:"status","aria-live":"polite",children:(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:o},"aria-hidden":"true"}),(0,f.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:(0,a.__)("Loading...","fluxwave")})]})}),n&&(0,f.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center z-10 rounded-xl",role:"alert","aria-live":"assertive",children:(0,f.jsxs)("div",{className:"text-center p-6 max-w-md",children:[(0,f.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("p",{className:"text-sm text-slate-900 font-medium mb-2",children:n}),(0,f.jsx)("button",{onClick:()=>{s(null),h&&A(h)},className:"px-4 py-2 text-sm rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors",children:(0,a.__)("Try Again","fluxwave")})]})})]})},C=(0,l.lazy)(()=>Promise.all([r.e(81),r.e(629)]).then(r.bind(r,629)));const _=JSON.parse('{"UU":"fluxwave/fluxwave"}');(0,o.registerBlockType)(_.UU,{edit:function({attributes:e,setAttributes:t}){const{tracks:r,autoplay:o,loop:i,accentColor:c}=e,[u,d]=(0,l.useState)("editor"),h=(0,n.useBlockProps)({className:"fluxwave-block-editor"});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n.InspectorControls,{children:[(0,f.jsxs)(s.PanelBody,{title:(0,a.__)("Player Settings","fluxwave"),initialOpen:!0,children:[(0,f.jsx)(s.ToggleControl,{label:(0,a.__)("Autoplay","fluxwave"),checked:o,onChange:e=>t({autoplay:e}),help:(0,a.__)("Start playing automatically when page loads","fluxwave"),__nextHasNoMarginBottom:!0}),(0,f.jsx)(s.ToggleControl,{label:(0,a.__)("Loop Playlist","fluxwave"),checked:i,onChange:e=>t({loop:e}),help:(0,a.__)("Repeat playlist when it ends","fluxwave"),__nextHasNoMarginBottom:!0})]}),(0,f.jsx)(s.PanelBody,{title:(0,a.__)("Accent Color","fluxwave"),initialOpen:!0,children:(0,f.jsx)(n.ColorPalette,{value:c,onChange:e=>t({accentColor:e||"#06b6d4"}),colors:[{name:(0,a.__)("Cyan","fluxwave"),color:"#06b6d4"},{name:(0,a.__)("Blue","fluxwave"),color:"#3b82f6"},{name:(0,a.__)("Indigo","fluxwave"),color:"#6366f1"},{name:(0,a.__)("Purple","fluxwave"),color:"#a855f7"},{name:(0,a.__)("Pink","fluxwave"),color:"#ec4899"},{name:(0,a.__)("Red","fluxwave"),color:"#ef4444"},{name:(0,a.__)("Orange","fluxwave"),color:"#f97316"},{name:(0,a.__)("Amber","fluxwave"),color:"#f59e0b"},{name:(0,a.__)("Yellow","fluxwave"),color:"#eab308"},{name:(0,a.__)("Lime","fluxwave"),color:"#84cc16"},{name:(0,a.__)("Green","fluxwave"),color:"#10b981"},{name:(0,a.__)("Emerald","fluxwave"),color:"#059669"},{name:(0,a.__)("Teal","fluxwave"),color:"#14b8a6"}]})})]}),(0,f.jsxs)("div",{...h,children:[(0,f.jsxs)("div",{className:"mb-4 flex items-center justify-between border-b border-gray-200 pb-3",children:[(0,f.jsxs)(s.ButtonGroup,{children:[(0,f.jsx)(s.Button,{variant:"editor"===u?"primary":"secondary",onClick:()=>d("editor"),children:(0,a.__)("Edit Playlist","fluxwave")}),(0,f.jsx)(s.Button,{variant:"preview"===u?"primary":"secondary",onClick:()=>d("preview"),disabled:0===r.length,children:(0,a.__)("Preview Player","fluxwave")})]}),"preview"===u&&(0,f.jsx)("span",{className:"text-xs text-gray-500",children:(0,a.__)("This is how your player will look on the frontend","fluxwave")})]}),"editor"===u&&(0,f.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:(0,f.jsx)(l.Suspense,{fallback:(0,f.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,f.jsx)(s.Spinner,{})}),children:(0,f.jsx)(C,{tracks:r,onChange:e=>{t({tracks:e})}})})}),"preview"===u&&r.length>0&&(0,f.jsx)("div",{children:(0,f.jsx)(j,{tracks:r,autoplay:!1,loop:i,accentColor:c})})]})]})}})}},a={};function n(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,n),r.exports}n.m=o,e=[],n.O=(t,r,o,a)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,o,a]=e[u],l=!0,i=0;i<r.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every(e=>n.O[e](r[i]))?r.splice(i--,1):(l=!1,a<s&&(s=a));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>(81===e?"dndkit":e)+".js?ver="+{81:"cefb93145d8de0f9d447",629:"d39bc4a4f396e33807a8"}[e],n.miniCssF=e=>{},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},r="fluxwave:",n.l=(e,o,a,s)=>{if(t[e])t[e].push(o);else{var l,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+a){l=d;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",r+a),l.src=e),t[e]=[o];var h=(r,o)=>{l.onerror=l.onload=null,clearTimeout(x);var a=t[e];if(delete t[e],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach(e=>e(o)),r)return r(o)},x=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),i&&document.head.appendChild(l)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{var e={864:0,272:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else if(272!=t){var a=new Promise((r,a)=>o=e[t]=[r,a]);r.push(o[2]=a);var s=n.p+n.u(t),l=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",l.name="ChunkLoadError",l.type=a,l.request=s,o[1](l)}},"chunk-"+t,t)}else e[t]=0},n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[s,l,i]=r,c=0;if(s.some(t=>0!==e[t])){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(i)var u=i(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=globalThis.webpackChunkfluxwave=globalThis.webpackChunkfluxwave||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[832,272],()=>n(964));s=n.O(s)})();