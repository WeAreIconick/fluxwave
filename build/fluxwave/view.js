(()=>{"use strict";var e,t={543:(e,t,r)=>{const o=window.wp.element,n=window.wp.i18n;var s=r(196);const a=class{constructor(){this.sound=null,this.isDestroyed=!1,void 0!==s.Howler&&(s.Howler.html5PoolSize=100,s.Howler.autoUnlock=!0)}isValidUrl(e){if(!e||"string"!=typeof e)return!1;try{const t=new URL(e,window.location.origin);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}load(e,t={}){return new Promise((r,o)=>{if(this.isDestroyed)o(new Error("Player has been destroyed"));else{if(!this.isValidUrl(e))return o(new Error("Invalid audio URL")),void console.error("Fluxwave: Invalid or unsafe URL provided:",e);if(this.sound){try{this.sound.stop(),this.sound.unload()}catch(n){console.warn("Error cleaning up previous sound:",n)}this.sound=null}try{this.sound=new s.Howl({src:[e],html5:!0,preload:!0,format:["mp3","aac","opus","webm","ogg","wav","flac"],pool:1,onload:()=>{this.isDestroyed||(t.onLoad&&t.onLoad(),r())},onloaderror:(e,r)=>{console.error("Howler load error:",r),t.onError&&t.onError(r),o(r)},onplay:()=>{!this.isDestroyed&&t.onPlay&&t.onPlay()},onpause:()=>{!this.isDestroyed&&t.onPause&&t.onPause()},onend:()=>{!this.isDestroyed&&t.onEnd&&t.onEnd()},onstop:()=>{!this.isDestroyed&&t.onStop&&t.onStop()},onseek:()=>{!this.isDestroyed&&t.onSeek&&t.onSeek()}})}catch(n){console.error("Error creating Howl:",n),o(n)}}})}play(){this.sound&&this.sound.play()}pause(){this.sound&&this.sound.pause()}stop(){this.sound&&this.sound.stop()}toggle(){this.sound&&(this.sound.playing()?this.pause():this.play())}seek(e){this.sound&&!isNaN(e)&&isFinite(e)&&this.sound.seek(Math.max(0,e))}getCurrentTime(){if(!this.sound)return 0;const e=this.sound.seek();return!isNaN(e)&&isFinite(e)?e:0}getDuration(){if(!this.sound)return 0;const e=this.sound.duration();return!isNaN(e)&&isFinite(e)?e:0}isPlaying(){return!!this.sound&&this.sound.playing()}setVolume(e){this.sound&&!isNaN(e)&&this.sound.volume(Math.max(0,Math.min(1,e)))}getVolume(){return this.sound?this.sound.volume():1}setRate(e){this.sound&&!isNaN(e)&&this.sound.rate(Math.max(.5,Math.min(2,e)))}getRate(){return this.sound?this.sound.rate():1}destroy(){if(this.isDestroyed=!0,this.sound){try{this.sound.playing()&&this.sound.stop(),this.sound.unload()}catch(e){console.warn("Error during sound cleanup:",e)}this.sound=null}}},l=window.React,i=e=>{let t;const r=new Set,o=(e,o)=>{const n="function"==typeof e?e(t):e;if(!Object.is(n,t)){const e=t;t=(null!=o?o:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,s={setState:o,getState:n,getInitialState:()=>a,subscribe:e=>(r.add(e),()=>r.delete(e))},a=t=e(o,n,s);return s},c=e=>e;const u=e=>{const t=(e=>e?i(e):i)(e),r=e=>function(e,t=c){const r=l.useSyncExternalStore(e.subscribe,l.useCallback(()=>t(e.getState()),[e,t]),l.useCallback(()=>t(e.getInitialState()),[e,t]));return l.useDebugValue(r),r}(t,e);return Object.assign(r,t),r};var d;const h=(d=(e,t)=>({currentTrack:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,progress:0,volume:1,playbackRate:1,isMuted:!1,playlist:[],currentTrackIndex:0,originalPlaylist:[],shuffleMode:!1,repeatMode:"none",showWaveform:!0,showVisualizer:!1,setCurrentTrack:t=>e({currentTrack:t}),setIsPlaying:t=>e({isPlaying:t}),setIsLoading:t=>e({isLoading:t}),setCurrentTime:r=>{const{duration:o}=t();e({currentTime:r,progress:o>0?r/o:0})},setDuration:t=>e({duration:t}),setVolume:t=>e({volume:Math.max(0,Math.min(1,t))}),setPlaybackRate:t=>e({playbackRate:Math.max(.5,Math.min(2,t))}),toggleMute:()=>e(e=>({isMuted:!e.isMuted})),setPlaylist:t=>e({playlist:t,originalPlaylist:[...t]}),setCurrentTrackIndex:r=>{const{playlist:o}=t();r>=0&&r<o.length&&e({currentTrackIndex:r,currentTrack:o[r]})},toggleShuffle:()=>{const{shuffleMode:r,playlist:o,originalPlaylist:n,currentTrack:s}=t();if(r){const t=s?.id,r=n.findIndex(e=>e.id===t);e({shuffleMode:!1,playlist:[...n],currentTrackIndex:r>=0?r:0})}else{const t=[...o],r=t.findIndex(e=>e.id===s?.id);-1!==r&&t.splice(r,1);for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}s&&-1!==r&&t.unshift(s),e({shuffleMode:!0,playlist:t,currentTrackIndex:0})}},setRepeatMode:t=>e({repeatMode:t}),toggleRepeatMode:()=>{const{repeatMode:r}=t(),o=["none","all","one"],n=o.indexOf(r),s=o[(n+1)%o.length];e({repeatMode:s})},nextTrack:()=>{const{playlist:r,currentTrackIndex:o,repeatMode:n,shuffleMode:s}=t();if("one"===n)return!0;const a=o+1;return a<r.length?(e({currentTrackIndex:a,currentTrack:r[a]}),!0):"all"===n&&(e({currentTrackIndex:0,currentTrack:r[0]}),!0)},previousTrack:()=>{const{playlist:r,currentTrackIndex:o}=t(),n=o-1;return n>=0&&(e({currentTrackIndex:n,currentTrack:r[n]}),!0)},toggleWaveform:()=>e(e=>({showWaveform:!e.showWaveform})),toggleVisualizer:()=>e(e=>({showVisualizer:!e.showVisualizer})),reset:()=>e({currentTrack:null,isPlaying:!1,isLoading:!1,currentTime:0,duration:0,progress:0})}))?u(d):u,x=window.ReactJSXRuntime,p=(0,o.memo)(({isPlaying:e,onPlayPause:t,onPrevious:r,onNext:s,hasPrevious:a,hasNext:l,playbackRate:i=1,onPlaybackRateChange:c,onSkipForward:u,onSkipBackward:d,accentColor:h="#06b6d4"})=>{const[p,f]=(0,o.useState)(!1),m=[.5,.75,1,1.25,1.5,2];return(0,x.jsxs)("div",{className:"bg-slate-50 text-slate-500 rounded-b-xl flex items-center relative",role:"group","aria-label":"Player controls",children:[(0,x.jsxs)("div",{className:"flex-auto flex items-center justify-evenly",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("button",{type:"button","aria-label":(0,n.__)("Share","fluxwave"),className:"text-slate-500 transition-colors",onClick:async()=>{try{const e=window.location.href;await navigator.clipboard.writeText(e),f(!0),setTimeout(()=>{f(!1)},2e3)}catch(e){console.error("Failed to copy:",e);const r=document.createElement("textarea");r.value=window.location.href,r.style.position="fixed",r.style.left="-999999px",document.body.appendChild(r),r.select();try{document.execCommand("copy"),f(!0),setTimeout(()=>{f(!1)},2e3)}catch(t){console.error("Fallback copy failed:",t)}document.body.removeChild(r)}},onMouseEnter:e=>e.currentTarget.style.color=h,onMouseLeave:e=>e.currentTarget.style.color="",title:(0,n.__)("Share this page","fluxwave"),children:(0,x.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[(0,x.jsx)("circle",{cx:"18",cy:"5",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("circle",{cx:"6",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("circle",{cx:"18",cy:"19",r:"3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),p&&(0,x.jsxs)("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2 px-3 py-1.5 rounded-md shadow-lg text-xs font-medium text-white whitespace-nowrap z-50",style:{backgroundColor:h},children:[(0,n.__)("Link copied!","fluxwave"),(0,x.jsx)("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2",style:{backgroundColor:h}})]})]}),(0,x.jsx)("button",{type:"button",className:"hidden sm:block lg:hidden xl:block text-slate-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":(0,n.__)("Previous track","fluxwave"),onClick:r,disabled:!a,onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.color=h),onMouseLeave:e=>e.currentTarget.style.color="",children:(0,x.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,x.jsx)("path",{d:"m10 12 8-6v12l-8-6Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M6 6v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,x.jsx)("button",{type:"button","aria-label":(0,n.__)("Rewind 10 seconds","fluxwave"),className:"text-slate-500 transition-colors",onClick:d,onMouseEnter:e=>e.currentTarget.style.color=h,onMouseLeave:e=>e.currentTarget.style.color="",children:(0,x.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,x.jsx)("path",{d:"M6.492 16.95c2.861 2.733 7.5 2.733 10.362 0 2.861-2.734 2.861-7.166 0-9.9-2.862-2.733-7.501-2.733-10.362 0A7.096 7.096 0 0 0 5.5 8.226",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M5 5v3.111c0 .491.398.889.889.889H9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),(0,x.jsx)("button",{type:"button",className:"bg-white text-slate-900 flex-none -my-2 mx-auto w-20 h-20 rounded-full ring-1 ring-slate-900/5 shadow-md flex items-center justify-center hover:bg-slate-50 transition-colors","aria-label":e?(0,n.__)("Pause","fluxwave"):(0,n.__)("Play","fluxwave"),onClick:t,children:e?(0,x.jsxs)("svg",{width:"30",height:"32",fill:"currentColor",children:[(0,x.jsx)("rect",{x:"6",y:"4",width:"4",height:"24",rx:"2"}),(0,x.jsx)("rect",{x:"20",y:"4",width:"4",height:"24",rx:"2"})]}):(0,x.jsx)("svg",{width:"30",height:"32",fill:"currentColor",viewBox:"0 0 30 32",children:(0,x.jsx)("path",{d:"M8 4l20 12L8 28V4z"})})}),(0,x.jsxs)("div",{className:"flex-auto flex items-center justify-evenly",children:[(0,x.jsx)("button",{type:"button","aria-label":(0,n.__)("Skip 10 seconds","fluxwave"),className:"text-slate-500 transition-colors",onClick:u,onMouseEnter:e=>e.currentTarget.style.color=h,onMouseLeave:e=>e.currentTarget.style.color="",children:(0,x.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,x.jsx)("path",{d:"M17.509 16.95c-2.862 2.733-7.501 2.733-10.363 0-2.861-2.734-2.861-7.166 0-9.9 2.862-2.733 7.501-2.733 10.363 0 .38.365.711.759.991 1.176",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M19 5v3.111c0 .491-.398.889-.889.889H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,x.jsx)("button",{type:"button",className:"hidden sm:block lg:hidden xl:block text-slate-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":(0,n.__)("Next track","fluxwave"),onClick:s,disabled:!l,onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.color=h),onMouseLeave:e=>e.currentTarget.style.color="",children:(0,x.jsxs)("svg",{width:"24",height:"24",fill:"none",children:[(0,x.jsx)("path",{d:"M14 12 6 6v12l8-6Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,x.jsx)("path",{d:"M18 6v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,x.jsxs)("button",{type:"button",className:"rounded-lg text-xs leading-6 font-semibold px-2 ring-2 ring-inset ring-slate-500 text-slate-500 hover:bg-slate-100 transition-colors",onClick:()=>{const e=(m.indexOf(i)+1)%m.length;c(m[e])},"aria-label":(0,n.__)("Playback speed","fluxwave"),children:[i,"x"]})]})]})});p.displayName="TransportControls";const f=p,m=(0,o.memo)(({currentTime:e=0,duration:t=0,onSeek:r,accentColor:n="#06b6d4"})=>{const[s,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(0),c=(0,o.useRef)(null),u=e=>{if(!isFinite(e)||isNaN(e)||e<0)return"0:00";return`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`},d=()=>{s&&(a(!1),r&&r(l))},h=e=>{if(!c.current||!t)return;const o=c.current.getBoundingClientRect(),n=Math.max(0,Math.min(e.clientX-o.left,o.width))/o.width*t;i(n),!s&&r&&r(n)},p=s?l:e,f=t>0?p/t*100:0;return(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{ref:c,className:"bg-slate-100 rounded-full overflow-hidden cursor-pointer",role:"slider","aria-label":"Seek position","aria-valuemin":"0","aria-valuemax":Math.round(t),"aria-valuenow":Math.round(p),"aria-valuetext":`${u(p)} of ${u(t)}`,tabIndex:"0",onMouseDown:e=>{a(!0),h(e)},onMouseMove:e=>{s&&h(e)},onMouseUp:d,onMouseLeave:d,onKeyDown:r=>{"ArrowLeft"===r.key?(r.preventDefault(),h(Math.max(0,e-5))):"ArrowRight"===r.key?(r.preventDefault(),h(Math.min(t,e+5))):"Home"===r.key?(r.preventDefault(),h(0)):"End"===r.key&&(r.preventDefault(),h(t))},children:(0,x.jsx)("div",{className:"h-2",role:"progressbar","aria-label":"music progress","aria-valuenow":Math.round(p),"aria-valuemin":"0","aria-valuemax":Math.round(t),style:{width:`${Math.min(100,Math.max(0,f))}%`,backgroundColor:n}})}),(0,x.jsx)("div",{className:"ring-2 absolute top-1/2 w-4 h-4 -mt-2 -ml-2 flex items-center justify-center bg-white rounded-full shadow cursor-pointer",style:{left:`${Math.min(100,Math.max(0,f))}%`,borderColor:n},children:(0,x.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ring-1 ring-inset ring-slate-900/5",style:{backgroundColor:n}})})]}),(0,x.jsxs)("div",{className:"flex justify-between text-sm leading-6 font-medium tabular-nums",children:[(0,x.jsx)("div",{style:{color:n},children:u(p)}),(0,x.jsx)("div",{className:"text-slate-500",children:u(t)})]})]})});m.displayName="ProgressBar";const g=m,y=(0,o.memo)(({track:e,currentTrackIndex:t,totalTracks:r,accentColor:o="#06b6d4"})=>e?(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)("img",{src:e.artwork||'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="88" height="88" fill="none"%3E%3Crect width="88" height="88" fill="%23e2e8f0" rx="8"/%3E%3Cpath fill="%2394a3b8" d="M44 28c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm0 4a6 6 0 100 12 6 6 0 000-12z"/%3E%3C/svg%3E',alt:e.title||(0,n.__)("Album artwork","fluxwave"),width:"88",height:"88",className:"flex-none rounded-lg bg-slate-100",loading:"lazy"}),(0,x.jsxs)("div",{className:"min-w-0 flex-auto space-y-1 font-semibold",children:[(0,x.jsxs)("p",{className:"text-sm leading-6",style:{color:o},children:[(0,x.jsx)("abbr",{title:"Track",children:"Track:"})," ",String((t||0)+1).padStart(2,"0")]}),(0,x.jsx)("h2",{className:"text-slate-500 text-sm leading-6 truncate",children:e.artist?e.artist:e.album?`Album: ${e.album}`:(0,n.__)("Unknown Artist","fluxwave")}),(0,x.jsx)("p",{className:"text-slate-900 text-lg",children:e.title||(0,n.__)("Untitled Track","fluxwave")})]})]}):(0,x.jsx)("div",{className:"text-center py-8",children:(0,x.jsx)("p",{className:"text-gray-500 text-sm",children:(0,n.__)("No track selected","fluxwave")})}));y.displayName="TrackInfo";const k=y,v=({tracks:e=[],autoplay:t=!1,loop:r=!1,accentColor:s="#06b6d4"})=>{const[l,i]=(0,o.useState)(null),c=(0,o.useRef)(null),u=(0,o.useRef)(null),d=(0,o.useRef)(0),p=h(e=>e.currentTrack),m=h(e=>e.currentTrackIndex),y=h(e=>e.isPlaying),v=h(e=>e.isLoading),w=h(e=>e.currentTime),b=h(e=>e.duration),j=h(e=>e.volume),N=h(e=>e.playbackRate),C=h(e=>e.repeatMode),M=h(e=>e.setCurrentTrack),T=h(e=>e.setCurrentTrackIndex),L=h(e=>e.setIsPlaying),_=h(e=>e.setIsLoading),P=h(e=>e.setCurrentTime),E=h(e=>e.setDuration),S=h(e=>e.setPlaylist),R=h(e=>e.nextTrack),I=h(e=>e.previousTrack);(0,o.useEffect)(()=>{c.current=new a;const e=e=>{if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName)switch(e.key){case" ":e.preventDefault(),O();break;case"ArrowLeft":e.shiftKey&&(e.preventDefault(),B());break;case"ArrowRight":e.shiftKey&&(e.preventDefault(),H())}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e),u.current&&(cancelAnimationFrame(u.current),u.current=null),c.current&&(c.current.destroy(),c.current=null)}},[]),(0,o.useEffect)(()=>{e.length>0&&(S(e),p||T(0))},[e]),(0,o.useEffect)(()=>{const e=h.getState().playlist;e[m]&&D(e[m])},[m]),(0,o.useEffect)(()=>{y&&F()},[y]),(0,o.useEffect)(()=>{c.current&&N&&c.current.setRate(N)},[N]);const D=async e=>{if(e&&e.url){i(null),_(!0),M(e);try{await c.current.load(e.url,{onLoad:()=>{const e=c.current.getDuration();e&&!isNaN(e)&&isFinite(e)?E(e):E(0),_(!1),i(null),N&&c.current.setRate(N),(t||y)&&A()},onEnd:()=>{q()},onError:e=>{console.error("Error loading track:",e),_(!1),E(0),i((0,n.__)("Failed to load audio file","fluxwave"))}}),void 0!==j&&c.current.setVolume(j)}catch(l){console.error("Error loading track:",l),_(!1),E(0),i((0,n.__)("Failed to load audio file","fluxwave"))}}},F=(0,o.useCallback)(()=>{if(c.current&&y){const e=performance.now();if(e-d.current>=100){const t=c.current.getCurrentTime();!isNaN(t)&&isFinite(t)&&P(t),d.current=e}u.current=requestAnimationFrame(F)}},[y,P]),A=(0,o.useCallback)(()=>{c.current&&(c.current.play(),L(!0))},[L]),W=(0,o.useCallback)(()=>{c.current&&(c.current.pause(),L(!1))},[L]),O=(0,o.useCallback)(()=>{y?W():A()},[y,A,W]),z=(0,o.useCallback)(e=>{!isNaN(e)&&isFinite(e)&&c.current&&(c.current.seek(e),P(e))},[P]),V=(0,o.useCallback)(()=>{const e=Math.min(w+10,b);z(e)},[w,b,z]),U=(0,o.useCallback)(()=>{const e=Math.max(w-10,0);z(e)},[w,z]),$=((0,o.useCallback)(e=>{c.current&&c.current.setVolume(e)},[]),(0,o.useCallback)(e=>{c.current&&c.current.setRate(e)},[])),H=(0,o.useCallback)(()=>{R()&&"one"===C&&(z(0),y&&A())},[R,C,z,y,A]),B=(0,o.useCallback)(()=>{(isNaN(w)?0:w)>3?z(0):I()},[w,z,I]),q=(0,o.useCallback)(()=>{if("one"===C)z(0),A();else{R()||L(!1)}},[C,z,A,R,L]);if(0===e.length)return(0,x.jsx)("div",{className:"fluxwave-audio-player p-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:(0,x.jsxs)("div",{className:"text-center text-gray-500",children:[(0,x.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,x.jsx)("p",{className:"font-medium",children:(0,n.__)("No tracks added","fluxwave")}),(0,x.jsx)("p",{className:"text-sm mt-1",children:(0,n.__)("Add audio files to start building your playlist","fluxwave")})]})});const K=h.getState().playlist,X=isNaN(w)?0:w,J=m<K.length-1||"none"!==C,Z=m>0||X>3;return(0,x.jsxs)("div",{className:"fluxwave-audio-player w-full",style:{"--accent-color":s},role:"region","aria-label":p?.title?`Audio player - ${p.title}`:"Audio player","aria-live":"polite","aria-atomic":"false",children:[(0,x.jsxs)("div",{className:"bg-white border-slate-100 border-b rounded-t-xl p-4 pb-6 sm:p-10 sm:pb-8 lg:p-6 xl:p-10 xl:pb-8 space-y-6 sm:space-y-8 lg:space-y-6 xl:space-y-8 items-center",children:[(0,x.jsx)(k,{track:p,currentTrackIndex:m,totalTracks:e.length,accentColor:s}),(0,x.jsxs)("div",{className:"sr-only",role:"status","aria-live":"polite",children:[y?(0,n.__)("Playing","fluxwave"):(0,n.__)("Paused","fluxwave"),p?.title&&`: ${p.title}`]}),(0,x.jsx)(g,{currentTime:w,duration:b,onSeek:z,accentColor:s})]}),(0,x.jsx)(f,{isPlaying:y,onPlayPause:O,onNext:H,onPrevious:B,hasPrevious:Z,hasNext:J,playbackRate:N,onPlaybackRateChange:$,onSkipForward:V,onSkipBackward:U,accentColor:s}),v&&(0,x.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-xl",role:"status","aria-live":"polite",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:s},"aria-hidden":"true"}),(0,x.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:(0,n.__)("Loading...","fluxwave")})]})}),l&&(0,x.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center z-10 rounded-xl",role:"alert","aria-live":"assertive",children:(0,x.jsxs)("div",{className:"text-center p-6 max-w-md",children:[(0,x.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,x.jsx)("p",{className:"text-sm text-slate-900 font-medium mb-2",children:l}),(0,x.jsx)("button",{onClick:()=>{i(null),p&&D(p)},className:"px-4 py-2 text-sm rounded-lg bg-slate-100 hover:bg-slate-200 transition-colors",children:(0,n.__)("Try Again","fluxwave")})]})})]})},w=window.wp.domReady;var b=r.n(w);const j=new Map;function N(){j.forEach(e=>{try{e.unmount()}catch(t){console.error("Error unmounting Fluxwave player:",t)}}),j.clear()}b()(()=>{document.querySelectorAll(".fluxwave-player-block").forEach(e=>{const t=e.getAttribute("data-player-config");if(t)try{const r=JSON.parse(t);if("object"!=typeof r||null===r)return void console.error("Fluxwave: Invalid player configuration");r.accentColor&&!/^#[0-9A-Fa-f]{6}$/.test(r.accentColor)&&(r.accentColor="#06b6d4"),r.tracks&&Array.isArray(r.tracks)&&(r.tracks=r.tracks.filter(e=>e&&"object"==typeof e&&e.url&&"string"==typeof e.url&&(e.url.startsWith("http://")||e.url.startsWith("https://"))));const n=e.querySelector(".fluxwave-player-container");if(!n)return void console.error("Fluxwave: Player container not found");j.has(n)&&(j.get(n).unmount(),j.delete(n));const s=(0,o.createRoot)(n);j.set(n,s),s.render((0,x.jsx)(v,{tracks:r.tracks||[],autoplay:!0===r.autoplay,loop:!0===r.loop,accentColor:r.accentColor||"#06b6d4"}))}catch(r){console.error("Fluxwave: Error initializing player",r)}else console.error("Fluxwave: No player configuration found")})}),window.addEventListener("beforeunload",N),void 0!==window.addEventListener&&window.addEventListener("popstate",N)}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,r,n,s)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,n,s]=e[u],l=!0,i=0;i<r.length;i++)(!1&s||a>=s)&&Object.keys(o.O).every(e=>o.O[e](r[i]))?r.splice(i--,1):(l=!1,s<a&&(a=s));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,n,s]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={559:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,[a,l,i]=r,c=0;if(a.some(t=>0!==e[t])){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(i)var u=i(o)}for(t&&t(r);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(u)},r=globalThis.webpackChunkfluxwave=globalThis.webpackChunkfluxwave||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=o.O(void 0,[832],()=>o(543));n=o.O(n)})();